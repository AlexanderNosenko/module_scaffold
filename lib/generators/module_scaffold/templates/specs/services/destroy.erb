require 'rails_helper'

RSpec.describe ::<%= @generator.full_class_name('destroy') %> do
  subject { described_class.new(<%= @generator.resource_name %>).call }

  let_it_be(:<%= @generator.resource_name %>) { create(:<%= @generator.resource_name %>) }

  describe '#call' do
    it 'deletes <%= @generator.resource_name %>' do
      expect { subject }.to change { ::<%= @generator.module_full_name %>.count }.by(-1)
    end
  end
end
